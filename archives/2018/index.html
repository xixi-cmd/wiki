<!DOCTYPE html><html class="appearance-auto" lang="zh-CN"><head><meta charset="UTF-8"><title>AIENS.'s blog</title><meta name="description" content="私のすべてを支配してください"><meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no, initial-scale=1"><!-- Google Analytics --><!-- End Google Analytics -->
<!-- Baidu Analytics --><!-- End Baidu Analytics --><link rel="icon" href="https://upimage.alexhchu.com/2021/04/28/5a7401f88c1cf.png"><link rel="stylesheet" href="/style/common/bulma.css"><link rel="stylesheet" href="/style/base.css"><link rel="stylesheet" href="/style/common/helper.css"><script src="/js/common.js"></script><link rel="stylesheet" href="/style/widget-post-list.css"><meta name="generator" content="Hexo 5.4.0"></head><body class="is-flex is-flex-direction-column"><header class="header-widget is-flex-shrink-0 is-hidden-mobile"><div class="container is-fullhd is-flex is-justify-content-space-between is-align-items-center is-full-height"><section class="is-hidden-mobile is-flex-shrink-0"><h2><a href="/">AIENS.'s blog</a></h2></section><h3 class="is-hidden-mobile is-family-serif is-full-height is-flex is-align-items-center is-flex-shrink-0"><span>归档 · 2018</span></h3><aside class="is-flex-shrink-0"><h3 class="is-inline-block"><a href="/">首页</a></h3><h3 class="is-inline-block"><a href="/about">关于</a></h3><h3 class="is-inline-block"><a href="/archives">归档</a></h3></aside></div></header><header class="is-flex header-widget is-flex-shrink-0 is-align-items-center is-justify-content-center is-hidden-tablet"><h3 class="is-inline-block"><a href="/">首页</a></h3><h3 class="is-inline-block"><a href="/about">关于</a></h3><h3 class="is-inline-block"><a href="/archives">归档</a></h3></header><main><article class="post-container is-flex is-justify-content-center section container is-max-widescreen pt-4 px-2"><div class="columns is-variable is-1-tablet is-3-desktop-only is-2-widescreen is-full-width"><section class="column"><article class="post-item-card"><header class="is-relative is-flex"><div class="post-cover-backdrop is-hidden"><img src="/img/1.jpg" alt="loading.."></div><a class="post-cover-link has-text-centered skeleton" href="/posts/91a20218.html"><img class="post-cover-img js-img-fadeIn" src="/img/1.jpg" alt="loading.." data-backdrop="true"></a></header><section class="content post-card-content p-4 pb-5"><header><a href="/tags/%E8%B7%A8%E7%AB%AF%E8%9E%8D%E5%90%88"><i class="tag post-item-tag">跨端融合</i></a></header><h2 class="mt-4 mb-0 is-family-serif"><a href="/posts/91a20218.html">web跨端融合方案浅析</a></h2><time class="has-text-grey" datetime="2018-12-04T12:51:52.000Z">2018-12-04</time><p class="is-flex-grow-2 mt-2">本文会对目前流行的基于 JavaScript 的 web 跨端融合方案进行总结和分析，目标人群为 web 方向的从业者但是对跨端融合方案了解不多的人。
web 跨端融合简介在 2015 年 React Native 发布之前，web 在移动端 APP 上主要通过 WebView 进行承载，其有许多优点，可以快速迭代发布，不特别受 APP 版本的影响，因此，一些快速发展的业务（包括前期的手机QQ、手机淘宝）大量采用了 WebView 内嵌 H5 页面的形式来推动业务。
但是这种方式缺点也比较明显，主要体现在以下两点：

加载时间较长，包括 WebView 初始化的时间、网络请求的时间。
HTML 页面在性能上天然不如 Native 页面，无论怎么进行性能优化。

在 2015 年，Facebook 推出了 R..</p><a class="button is-default mt-2 has-text-weight-semibold" href="/posts/91a20218.html">更多</a></section></article><article class="post-item-card"><section class="content post-card-content p-4 pb-5"><header><a href="/tags/Node.js"><i class="tag post-item-tag">Node.js</i></a><a href="/tags/TCP"><i class="tag post-item-tag">TCP</i></a></header><h2 class="mt-4 mb-0 is-family-serif"><a href="/posts/929df311.html">Node.js 的 TCP 链接管理</a></h2><time class="has-text-grey" datetime="2018-11-25T11:23:09.000Z">2018-11-25</time><p class="is-flex-grow-2 mt-2">在 Node.js 的微服务中，一般不同的服务模块我们会采用 TCP 进行通信，本文来简单谈一谈如何设计 TCP 服务的基础管理。

在具体设计上，本文参考了微服务框架 Seneca 所采用的通信方案 Seneca-transport，已经被实践所证明其可行性。

一提到 TCP 通信，我们肯定离不开 net 模块，事实上，借助 net 模块，我们也可以比较快速地完成一般的 TCP 通信的任务。
为了避免对基础的遗忘，我们还是先附上一个基本的 TCP 链接代码：
//server.js:
const net = require(&amp;#39;net&amp;#39;);

const server = net.createServer((socket) =&amp;gt; &amp;#123;
    socket.write(&amp;#3..</p><a class="button is-default mt-2 has-text-weight-semibold" href="/posts/929df311.html">更多</a></section></article><article class="post-item-card"><header class="is-relative is-flex"><div class="post-cover-backdrop is-hidden"><img src="/img/kd.jpg" alt="loading.."></div><a class="post-cover-link has-text-centered skeleton" href="/posts/aca1c25b.html"><img class="post-cover-img js-img-fadeIn" src="/img/kd.jpg" alt="loading.." data-backdrop="true"></a></header><section class="content post-card-content p-4 pb-5"><header><a href="/tags/%E7%BB%84%E4%BB%B6%E5%8C%96"><i class="tag post-item-tag">组件化</i></a></header><h2 class="mt-4 mb-0 is-family-serif"><a href="/posts/aca1c25b.html">多组件单页列表应用的代码组织实践</a></h2><time class="has-text-grey" datetime="2018-11-10T14:25:44.000Z">2018-11-10</time><p class="is-flex-grow-2 mt-2">本文主要对多组件单页面列表应用的代码组织实践进行总结，从而给相关应用的 Web 开发提供参考。
什么是多组件单页面列表应用？目前，其实多组件单页面列表应用非常常见，也是我们日常生活中使用非常高频的一个类别的应用，最典型的比如新闻信息流产品腾讯新闻、今日头条等这类新闻应用，在这类新闻应用中，往往图片、图文、视频、问答、投票等多种模块混杂排列。再简单一点的话，知乎、豆瓣甚至一些论坛以及一些购物软件，也可以归为此类应用。
由于笔者在负责QQ看点搜索模块的相关内容， 因此，这里给出一个QQ看点搜索的展示图：

这类应用其实有如下特点：

属于长列表滚动，内容随着滚动不断加载，一般在用户返回之前可能积累了大量的内容，因此可能会造成一定的性能问题。
模块众多，并且模块的种类和样式更新迭代快，这给我们在复用组件的选择上带..</p><a class="button is-default mt-2 has-text-weight-semibold" href="/posts/aca1c25b.html">更多</a></section></article><article class="post-item-card"><section class="content post-card-content p-4 pb-5"><header><a href="/tags/Node.js"><i class="tag post-item-tag">Node.js</i></a><a href="/tags/javascript"><i class="tag post-item-tag">javascript</i></a><a href="/tags/Rx.js"><i class="tag post-item-tag">Rx.js</i></a></header><h2 class="mt-4 mb-0 is-family-serif"><a href="/posts/a9157bc.html">使用 Node.js 打造多用户实时监控系统</a></h2><time class="has-text-grey" datetime="2018-10-21T09:15:38.000Z">2018-10-21</time><p class="is-flex-grow-2 mt-2">背景概述首先描述一下笔者遇到的问题，我们可以设定这样一个场景：现在有一个实时监控系统的开发需求，要求同时支持多个用户（这里我们为了简化，暂时不涉及登陆态，假定一个设备即为一个用户），对于不同的用户来讲，他们需要监控的一部分内容是完全相同的，比如设备的 CPU 信息、内存信息等，而另外一部分内容是部分用户重叠的，比如对某一区域的用户来说某些监控信息是相同的，而还有一些信息，则是用户之间完全不同的。
对于每个用户来讲，当其进入页面之后即表明其开始监控，需要持续地进行数据更新，而当其退出界面或者手动点击停止监控，则停止监控。
问题描述实际上，对于以上情况，我们很容易想到通过 WebSocket，对不同的用户进行隔离处理，当一个用户开始监控的时候，通过函数来逐个启动其所有的监控项目，当其停止监控的时候，取消相关监控..</p><a class="button is-default mt-2 has-text-weight-semibold" href="/posts/a9157bc.html">更多</a></section></article><article class="post-item-card"><section class="content post-card-content p-4 pb-5"><header><a href="/tags/javascript"><i class="tag post-item-tag">javascript</i></a><a href="/tags/%E5%89%8D%E7%AB%AF%E7%9B%91%E6%8E%A7"><i class="tag post-item-tag">前端监控</i></a></header><h2 class="mt-4 mb-0 is-family-serif"><a href="/posts/edce5e4a.html">从源码分析sentry的错误信息收集</a></h2><time class="has-text-grey" datetime="2018-08-18T11:23:55.000Z">2018-08-18</time><p class="is-flex-grow-2 mt-2">raven.js 是 sentry 为 JavaScript 错误上报提供的 JS-SDK，本篇我们基于其源代码对其原理进行分析，本篇文章只分析前端部分，对应的文件目录是https://github.com/getsentry/sentry-javascript/tree/master/packages/raven-js。
首先抛出几个问题：

raven.js 是如何收集浏览器错误信息的？
raven.js 上报的错误信息格式是什么样的？又是如何把这些信息传给后端？支不支持合并上报？
面包屑（breadcrumbs）是什么？raven.js 如何来收集面包屑信息？
raven.js 如何和框架配合使用（比如 vue、react）？

在回答以上这几个问题之前，我们首先来对 raven.js 做一个宏观的分..</p><a class="button is-default mt-2 has-text-weight-semibold" href="/posts/edce5e4a.html">更多</a></section></article><article class="post-item-card"><header class="is-relative is-flex"><div class="post-cover-backdrop is-hidden"><img src="https://www.10000h.top/images/flux.png" alt="loading.."></div><a class="post-cover-link has-text-centered skeleton" href="/posts/96d2f3ed.html"><img class="post-cover-img js-img-fadeIn" src="https://www.10000h.top/images/flux.png" alt="loading.." data-backdrop="true"></a></header><section class="content post-card-content p-4 pb-5"><header><a href="/tags/react"><i class="tag post-item-tag">react</i></a></header><h2 class="mt-4 mb-0 is-family-serif"><a href="/posts/96d2f3ed.html">一篇关于react历史的流水账</a></h2><time class="has-text-grey" datetime="2018-06-10T07:54:14.000Z">2018-06-10</time><p class="is-flex-grow-2 mt-2">react 目前已经更新到 V16.3，其一路走来，日臻完善，笔者接触 react 两年有余，在这里做一个阶段性的整理，也对 react 的发展和我对 react 的学习做一个整体记录。
笔者是在 16 年初开始关注 react，而实际上那个时候 react 已经发布快三年了， 16 年初的我写页面还是主要使用 backbone.js、Jquery，并且认为，相比于纯粹使用 Jquery 的“刀耕火种”的时代，使用 backbone.js 已经足够方便并且不需要替代品了。
这篇文章会从 react 开源之初进行讲起，直到 2018 年六月。
为什么是 react我们知道，react 并不是一个 MVC 框架，也并没有使用传统的前端模版，而是采用了纯 JS 编写（实际上用到了 JSX ），使用了虚拟 DOM，..</p><a class="button is-default mt-2 has-text-weight-semibold" href="/posts/96d2f3ed.html">更多</a></section></article><article class="post-item-card"><section class="content post-card-content p-4 pb-5"><header><a href="/tags/javascript"><i class="tag post-item-tag">javascript</i></a></header><h2 class="mt-4 mb-0 is-family-serif"><a href="/posts/db34a860.html">十条编写优化的 JavaScript 代码的建议</a></h2><time class="has-text-grey" datetime="2018-05-29T08:59:40.000Z">2018-05-29</time><p class="is-flex-grow-2 mt-2">本文总结了十条编写优秀的 JavaScript 代码的习惯，主要针对 V8 引擎：
1.始终以相同的顺序实例化对象属性，以便可以共享隐藏类和随后优化的代码。V8 在对 js 代码解析的时候会有构建隐藏类的过程，以相同的顺序实例化（属性赋值）的对象会共享相同的隐藏类。下面给出一个不好的实践：
function Point(x, y) &amp;#123;
    this.x = x;
    this.y = y;
&amp;#125;
var p1 = new Point(1, 2);
p1.a = 5;
p1.b = 6;
var p2 = new Point(3, 4);
p2.b = 7;
p2.a = 8;
// 由于 a 和 b 的赋值顺序不同，p1 和 p2 无法共享隐藏类

2.避免分配动态属性。在实例化之..</p><a class="button is-default mt-2 has-text-weight-semibold" href="/posts/db34a860.html">更多</a></section></article><article class="post-item-card"><section class="content post-card-content p-4 pb-5"><header><a href="/tags/javascript"><i class="tag post-item-tag">javascript</i></a></header><h2 class="mt-4 mb-0 is-family-serif"><a href="/posts/436c55ae.html">浅谈前端中的二进制数据类型</a></h2><time class="has-text-grey" datetime="2018-05-09T02:28:42.000Z">2018-05-09</time><p class="is-flex-grow-2 mt-2">
目前在一个项目中，WebSocket部分由于后端使用了gzip压缩，前端处理起来废了一点时间，从而发现自己在二进制数据类型这个知识点还存在一定的盲区，因此这里进行总结。

本文主要简单介绍ArrayBuffer对象、TypedArray对象、DataView对象以及Blob原始数据类型，和它们之间的互相转换方法。部分代码参考这里而非本人原创，仅做个人学习使用。
这些类型化对象，一般会在以下场景中使用：

WebGL 中，浏览器和显卡之间需要使用二进制数据进行通信。
在一些 Rest 接口或者 WebSocket 中，采用压缩过的数据进行通信，这个压缩和解压缩的过程可能需要借助二进制对象。
在 Canvas 中，我们可能需要通过生成 Blob 的方式保存当前内容。
在 Img 等资源文件中，URL 可以为 ..</p><a class="button is-default mt-2 has-text-weight-semibold" href="/posts/436c55ae.html">更多</a></section></article><article class="post-item-card"><section class="content post-card-content p-4 pb-5"><header><a href="/tags/Linux"><i class="tag post-item-tag">Linux</i></a><a href="/tags/ssh"><i class="tag post-item-tag">ssh</i></a></header><h2 class="mt-4 mb-0 is-family-serif"><a href="/posts/437032b7.html">Linux服务器初始化设置用户和ssh公私钥登陆</a></h2><time class="has-text-grey" datetime="2018-04-11T09:16:37.000Z">2018-04-11</time><p class="is-flex-grow-2 mt-2">
当我们开始使用一个新的服务器的时候，首先一定要对服务器的登陆等做一些修改工作，笔者曾经就因为对服务器登陆安全没有重视，导致服务器数据全部丢失。接下来我们按照步骤，罗列出应该做的一些事情。

修改ssh端口号第一件事情：
修改ssh端口号： 之后加上一个端口比如说50000
vi /etc/ssh/sshd_config之后在port字段加上一个端口比如说50000，原来的端口号字段可能是被注释掉的，要先解除注释。
然后执行：
service sshd restart

这个时候可能还要重新配置一下防火墙，开放50000端口，具体如何配置也可以参考这里的后半部分。但是目前，阿里云的服务器实测是不需要再配置防火墙的，但是需要去登陆到网页后台修改安全组。
之后就可以通过这样的方式登录了：(注意登录方式一定要写对..</p><a class="button is-default mt-2 has-text-weight-semibold" href="/posts/437032b7.html">更多</a></section></article><article class="post-item-card"><section class="content post-card-content p-4 pb-5"><header><a href="/tags/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6"><i class="tag post-item-tag">前端框架</i></a></header><h2 class="mt-4 mb-0 is-family-serif"><a href="/posts/6a161df9.html">dva源码解读</a></h2><time class="has-text-grey" datetime="2018-04-11T07:07:20.000Z">2018-04-11</time><p class="is-flex-grow-2 mt-2">声明本文章用于个人学习研究，并不代表 dva 团队的任何观点。
原文以及包含一定注释的代码见这里，若有问题也可以在这里进行讨论
起步为什么是dva?笔者对 dva 的源代码进行解读，主要考虑到 dva 并不是一个和我们熟知的主流技术无关的从0到1的框架，相反，它是对主流技术进行整合，提炼，从而形成一种最佳实践，分析 dva，意味着我们可以对自己掌握的很多相关技术进行回顾，另外，dva 的代码量并不多，也不至于晦涩难懂，可以给我们平时的业务开发以启发。
本文章作为 dva 的源码解读文章，并不面向新手用户，读者应当有一定的 react 使用经验和 ECMAscript 2015+ 的使用经验，并且应当了解 redux 和 redux-saga，以及对 dva 的使用有所了解(可以从这里了解为什么需要使用 dv..</p><a class="button is-default mt-2 has-text-weight-semibold" href="/posts/6a161df9.html">更多</a></section></article><section class="paginator is-flex is-justify-content-flex-end is-flex-wrap-wrap mt-5"><span class="page-number current">1</span><a class="page-number" href="/archives/2018/page/2/">2</a><a class="extend next" rel="next" href="/archives/2018/page/2/"><i class="iconfont icon-next has-text-grey"></i></a></section></section><aside class="column is-hidden-mobile is-4-tablet is-3-widescreen"><div style="position: sticky; top: 50px;"><main class="aside-card-container archives-widget is-in-archive-page"><h3>归档</h3><section><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">五月 2021</a><span class="archive-list-count">15</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">四月 2021</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">三月 2021</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">二月 2021</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">一月 2021</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">十二月 2020</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">十一月 2020</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">十月 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">九月 2020</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">八月 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">七月 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">六月 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">九月 2019</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">七月 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">六月 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">二月 2019</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">十二月 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">十一月 2018</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">十月 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">八月 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">六月 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">五月 2018</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">四月 2018</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">二月 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">十二月 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">八月 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">一月 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">十二月 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">十一月 2016</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">十月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">九月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">八月 2016</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">四月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">三月 2016</a><span class="archive-list-count">6</span></li></ul></section></main></div></aside></div></article><script>$claudia.fadeInImage(null, $claudia.blurBackdropImg)

window.addEventListener('resize', $claudia.throttle(function () {
    var images = document.querySelectorAll('.js-img-fadeIn')

    images.forEach($claudia.blurBackdropImg)
}, 150))</script></main><footer class="is-flex is-flex-direction-column is-align-items-center is-flex-shrink-0 is-family-serif"><section class="sns-container"><a title="twitter" target="_blank" rel="noopener nofollow" href="//twitter.com/shelby86443093"><i class="iconfont icon-twitter"></i></a><!-- Github--><a title="github" target="_blank" rel="noopener nofollow" href="//github.com/xixi-cmd"><i class="iconfont icon-github"></i></a><!-- Ins--><!-- RSS--><!-- 知乎--><a title="zhihu" target="_blank" rel="noopener nofollow" href="//zhihu.com/people/chenshang-53"><i class="iconfont icon-zhihu"></i></a><!-- 领英--><!-- 脸书--></section><p><span>Copyright ©</span><span> AIENS. 2021</span></p><div class="is-flex is-justify-content-center is-flex-wrap-wrap"><p>Powered by Hexo &verbar;&nbsp;</p><p class="is-flex is-justify-content-center"><a title="Hexo theme author" target="_blank" rel="noopener" href="//github.com/haojen">Theme by Haojen&nbsp;</a></p><div style="margin-top: 2px"><a class="github-button" title="github-button" target="_blank" rel="noopener" href="https://github.com/haojen/hexo-theme-Claudia" data-color-scheme="no-preference: light; light: light; dark: dark;" data-show-count="true"></a></div></div><div><span></span></div></footer><script async defer src="https://buttons.github.io/buttons.js"></script><script>$claudia.fadeInImage(null, $claudia.blurBackdropImg)

window.addEventListener('resize', $claudia.throttle(function () {
    var images = document.querySelectorAll('.js-img-fadeIn')

    images.forEach($claudia.blurBackdropImg)
}, 150))</script></body></html>